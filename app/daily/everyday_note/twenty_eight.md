# 任务

1. 实现搜索功能 (完成)
2. 实现侧滑栏的ScrollBar (完成)
3. 修复刷新章节的时候，章节页不变。 (完成)
4. 实现更多设置功能(完全沉浸式，音量键翻阅等) (完成)

## 滑动块效果(完成)

现在有两个想法:
1. 直接创建View
2. 创建具有滑动块的复合控件。

### 直接创建View

这种方式感觉上比较方便。

通过使用translate对滑动块进行移动。但是这个有个问题就是无法知道底部边界在哪里。另一种方式就是在Activity中，
重写View的onTouch()方法，然后进行滑动判断。

缺失的知识点:View的getY()的起始点是View头部的位置，而不是相对与父View的位置。

### 创建复合控件

1. 首先明白为什么RecyclerView的滑动条不能用。因为RecyclerView的滑动条是View自带的，其组成是一个Drawable不而是View
所以没有点击效果。

那么如何创建复合控件呢？

继承RecyclerView,创建ScrollBar这个View，开放滑动接口。根据滑动的百分比进行滑动。

最后发现个人能力有限，所以都没做出来。更换成ListView自带的ScrollBar了。

## 修复刷新章节的时候，章节页不变

自己设计的目录加载方式有问题，需要进行重构，有问题的地方:
1. 刷新的时候需要存储几万条数据，太浪费了

(暂时不管了)

1. 首先BookShelf页更新不加载Category
2. 加载数据的时候需要进行比对。
3. 调用ReadActivity的时候存储Category
4. 调用下载的时候需要加载目录
5. 如何数据更新了，那么阅读的时候就需要更新数据

