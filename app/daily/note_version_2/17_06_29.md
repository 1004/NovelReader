# 6月29日

重新启动项目开发。

## 完成目标

1. 支持本地加载书籍。
2. 解决加载下一章数据的卡顿问题。
3. 重新设置章节存储，断点续传的逻辑。

## 解决问题

解决步骤:
1. 对SimplePageFactory进行结构改良，注意以下几点
   1. 对于当前Status值做出改良，每次都需要根据不同的Status值做出不同的判断实在太麻烦了，而且之后改起来更麻烦
   2. 将SimplePageFactory进行改名，将其纳入到BookView中，并根据BookView设定相应的方法，和根据View的生命周期做出调整。
   这么做的原因时，发现没有必要将BookView与SimplePageFactory分离，分离之后再整合在一起反而增加了复杂度。
   3. 考虑支持本地加载书籍的结构，那么SimplePageFactory该如何调整。

2. 优化加载卡顿问题
3. 移植原作者本地加载方式，并改进加载项。

### 思考问题

1. 本地加载应该使用哪些作为输入参数，如何保证网络加载与本地加载分离。
   回答: 本地加载使用Book作为输入参数，Book保存本地书籍的地址。
        还有网络加载小说和本地加载小说在所需的功能上也有所不同，比如说网络加载需要获取Chapter然后根据接口回调去下载
        具体章节，本地小说就不需要这样。

2. 本地加载应该具有哪些优化措施，保证不占用大量内存、开启速度快、并且当正在排版的时候，显示页面和DrawerLayout要有动画。
   还有就是存储到数据库的方式，可能需要修改数据库类型。

### 支持本地加载书籍

1. 理解原作者加载书籍的原理，并加以改进
2. 进行本地加载与网络加载的移植与合并。
3. 参考原作者的翻页效果(是不是可以用OpenGL改写呢)

### 改进在线显示章节的策略